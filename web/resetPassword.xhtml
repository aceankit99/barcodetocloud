<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>
        <title>Barcode To Cloud</title>
        <style type="text/css">
            .butonImgae{
                width: 220px;

                background-image: url(images/google2.jpg);

                background-repeat: no-repeat;

                background-size: 24px;

                background-position: 1px;

                padding-left: 32px;
            }
            body .ui-growl { top:125px;}
        </style>
    <f:metadata>
        <f:viewParam name="code" value="#{viewSupport.forgetPasswordCode}" />
        <f:viewAction action="#{viewSupport.forgetPasswordCodeValidate()}"  />
    </f:metadata>
    </h:head>

    <h:body styleClass="exception-body">
       
        <h:form>
            <p:growl id="growl" sticky="false" showDetail="true" life="15000"    />
            <div class="exception-topbar ">
                <h:link  styleClass="logo">
                    <p:graphicImage name="images/logo.png" library="california-layout" />
                </h:link>
            </div>

            <p:graphicImage styleClass="exception-image" name="images/image-404.png" library="california-layout" />
            
            <h:panelGroup rendered="#{resetPassword.codeCorrect}">
            
            <div class="exception-panel login-panel ui-fluid"  >
                <div class="ui-g-12 ui-lg-12 ui-md-12 logo-container">
                    <div class="ui-g-12 ui-lg-12 ui-md-12 logo-container">
                    <span class="login-summary">Reset Password</span>
                    <div class="login-detail">
                        <span>Welcome, please use the form to reset password.</span>
                    </div>
                    </div>
                     
                    <div class="ui-g-12 ui-lg-12 ui-md-12">
                       
                        <p:focus />
                        <h:outputText value="Email" />
                        <p:inputText id="username" value="#{resetPassword.userProfile.email}" required="true" requiredMessage="Please provide your email" validatorMessage="Please Enter Email in Right Format" readonly="true">
                            <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                        </p:inputText>
                    </div>
                    
                    <div class="ui-g-12 ui-lg-12 ui-md-12">
                       
                        
                        <h:outputText value="Password" />
                        <p:password id="password" value="#{resetPassword.userProfile.password}" required="true" requiredMessage="Please provide your password" validatorMessage="Password length should be minimum 6 characters">
                            <f:validateLength minimum="6" />  
                        </p:password>    
                           
                        
                    </div>
                    
                    <div class="ui-g-12 ui-lg-12 ui-md-12">
                       
                        
                        <h:outputText value="Confirm Password" />
                        <p:password id="confirmpassword" value="#{resetPassword.confirmPassword}" required="true" requiredMessage="Please provide your confirm password"/>
                           
                        
                    </div>
                    
                    <div class="ui-g-6 ui-lg-6 ui-md-6 button-container">
                        <p:commandButton value="Submit" ajax="false" action="#{resetPassword.resetPasswordCheck()}"  /> 
                        <br></br>
                        <br></br>
                        
                    </div>
                    
                    
                    
                    
<!--                    <div class="ui-g-6 ui-lg-6 ui-md-6 button-container">
                        <p:button class="butonImgae" value="Sign in With Google"  href="#{login.GoogleAuth()}"/>
                        <br></br>
                        <br></br>
                        
                    </div>-->
                    
                    
                    
                     
                    
                </div>
            </div>
                
            </h:panelGroup>
            
            <h:panelGroup rendered="#{!resetPassword.codeCorrect}">
                <div class="exception-panel login-panel ui-fluid"  >
                <div class="ui-g-12 ui-lg-12 ui-md-12 logo-container">
                    <div class="ui-g-12 ui-lg-12 ui-md-12 logo-container">
                    <span class="login-summary" style="font-size:28px;font-weight:bold;">Reset Password</span>
                    <div class="login-detail" style="margin-top:10px;">
                        <span style="font-size:22px;font-weight:bold; color:#FF0000;">Sorry Code is Incorrect or expired, Please try again</span>
                    </div>
                    </div>
                </div>
                </div>
            </h:panelGroup>
            
            <h:outputStylesheet name="css/layout-#{guestPreferences.theme}.css" library="california-layout" />
        </h:form>
    </h:body>

</html>


